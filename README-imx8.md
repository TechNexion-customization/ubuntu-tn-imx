IMX8 Platforms for Ubuntu 20.04 with Wayland Framework
===========================

****
## Contents
* [Overview](#Overview)
* [Build Ubuntu Image (for developer)](#Build-Image)
    * Download the source code
    * Compiling Environment Setup
    * Build a runtime Image
    * Flash the image to the target board
* [Quick Start (for user)](#Quick-Start)
    * Run the apps using debug console/ssh
    * Playback video
    * `glmark` for GPU testing
    * Run QT5 applications
    * Control WiFi connection using `nmcli`
    * Control Bluetooth connection using `bluez5`
    * 4G/5GNR mobile connection using `mmcli`
    * Docker conatiner
    * Expand rootfs partition
    * Weston Keyboard shortcuts
    * Chromium
    * Device Tree Overlay
    * OpenCV 4.4 SDK
    * TensorFlow-Lite 2.2.0 SDK


* [Apps Developing](#Apps-Developing)
* [Known Limitations](#Known-issues)

****
### Overview
-----------
Technexion Ubuntu rootfs(Root Filesystem) was be generated by bash scripts, that help the
users to produce a customized ubuntu image using Cananical unique tool named `debootstrap`,
then adapt QEMU to config custom packages and tools from host PC.

**Default username:password = ubuntu:ubuntu**

**Superuser username:password = root:root**

We recommended adapt ubuntu user as normal use, and adapt root user to do deveoping and debuging because Weston is running on root permission, it will not worked if you call GUI relate commands using "ubuntu user".

Features:
* LTS version until 2025/04
* Weston Desktop with GPU accelelation v9.0
* Wayland compositor v1.18.0
* gstreamer1.0 v1.16.2
* VPU libraries v1.18
* QT5 with GPU acceleration  v5.12.8
* apt-get package manager
* openGL with GPU accelelation
* docker container v19.03.8
* Swap parition implementation using zram
* eIQ supporting
* OpenCV 4.4 SDK with dnn module
* TensorFlow-Lite 2.2.0 SDK with NPU support

****
### <a name="Build-Image"></a>Build Ubuntu Image
-----------

#### Download the source code

Github way (Prepare git command first is recommended)

Install git first:

    $ sudo apt-get install repo

Note that repo already support ptthon 3.7+ only from 2020 ends, if your host OS is Ubuntu, please adapt Ubuntu 20.04, it can get newer repo base on python 3.7, or you need fix it manually.

Download source code:

    $ git clone https://github.com/TechNexion-customization/ubuntu-tn-imx.git

#### Compiling environment setup

General Packages Installation (Ubuntu 20.04 is recommended)

    Install necessary packages
    $ sudo apt-get install gawk wget git git-core diffstat unzip texinfo gcc-multilib build-essential \
    chrpath socat cpio python python3 python3-pip python3-pexpect \
    xz-utils debianutils iputils-ping libsdl1.2-dev xterm \
    language-pack-en coreutils texi2html file docbook-utils \
    python-pysqlite2 help2man desktop-file-utils \
    libgl1-mesa-dev libglu1-mesa-dev mercurial autoconf automake \
    groff curl lzop asciidoc u-boot-tools libreoffice-writer \
    sshpass ssh-askpass zip xz-utils kpartx vim screen bison flex \
    debootstrap qemu-system-arm qemu-user-static libssl-dev

    Install cross-compiler
    $ sudo apt-get install gcc-aarch64-linux-gnu

    We strongly recommended install latest qemu package if you're not use Ubuntu 20.04:
    Step 1. Download deb binary file (don't choose incorrect archtecture)
    https://pkgs.org/search/?q=qemu-user-static

    Step 2. remove your current qemu package

    Step 3. use dpkg tool to install latest deb file


****
#### Build a runtime Image

Quick way, make a runtime image directly with parameter for target platform, default is PICO-IMX8MM without platform assigning:

    $ make all
    (it will download the latest u-boot, kernel and rootfs and compile them automatically)

    PICO-IMX8MM:
    make all PLATFORM="pico-imx8mm"

    AXON-E-IMX8MP:
    make all PLATFORM="axon-e-imx8mp"

    EDM-G-IMX8MP:
    make all PLATFORM="edm-g-imx8mp"

    PICO-IMX8M:
    make all PLATFORM="pico-imx8m"

    EDM-IMX8M:
    make all PLATFORM="edm-imx8m"

You also can compile the source code separatically, default is PICO-IMX8MM without platform assigning:

    $ make u-boot (download and compile the latest u-boot only)
    $ make kernel (download and compile the latest kernel only)
    $ make rootfs (download and compile the latest rootfs only)
    $ make image (package runtime image only, depend on above three items done)

    Example for compile u-boot with specific platform:
    $ make u-boot PLATFORM="<target platform>" (target platform: pico-imx8mm, axon-imx8mp, etc.)

Remove all compiled objects and image:

    $ make clean

#### Flash the image to the target board

Output relative image files of path:

    $ ls output
    kernel  rootfs.tgz  u-boot  ubuntu.img

We provide two ways for image flashing:

**1. `uuu` way**

It's a modular flash tool base on serial download mode, download the tools from technexion website as following link:

Download: [prebuilt binary](ftp://ftp.technexion.net/development_resources/development_tools/installer/imx-mfg-uuu-tool_20200327.zip)

Step 1. Connect a Type-C cable between host PC and the board

Step 2. Change the boot mode from eMMC mode to serial download mode

Step 3. Issue uuu command to flash the compiled Ubuntu image to eMMC:

    $ sudo uuu/linux64/uuu -b emmc_img imx8mm/pico-imx8mm-flash.bin ubuntu.img

Step 4. Change back boot mode from serial download mode to eMMC mode, it should be works!

For Windows OS or want to know the detail users , please click this [link](https://github.com/TechNexion/u-boot-edm/wiki/Use-mfgtool-%22uuu%22-to-flash-eMMC)

**2. `ums` way**

It's a easy way base on u-boot prompt of eMMC boot mode, but the disadvantage is the speed is a little bit lower than `uuu` way, another limitation is it must be existed a works u-boot inside the eMMC, if not, you still need adapt `uuu` way at first.

Step 1. Keep eMMC boot mode

Step 2. Connect a Type-C cable between host PC and the board for image flashing

Step 3. Connect a micro-usb cable between host PC and the board for debeg cosole

Step 4. press enter key on debug console when boot up u-boot, let u-boot into prompt

Step 5. Target board side: Issue ums command to mount eMMC as a mass storage:

    # ums 0 mmc 2

Step 6. Host PC side: Adapt basic `dd` command is enough for image flashing:

    $ sudo dd if=ubuntu.img of=/dev/sdx bs=1M (sdx means the device node which ums mounted storage)
    $ sync

**QCA9377:** If you want to enable  QCA9377 WiFi/Bluetooth functions, please copy relate firmware files to specific path of rootfs partition as following:

    WiFi:
    $ sudo cp -a <firmware path>/qca9377/bdwlan30.bin mnt/lib/firmware/qca9377/
    $ sudo cp -a <firmware path>/qca9377/otp30.bin mnt/lib/firmware/qca9377/
    $ sudo cp -a <firmware path>/qca9377/qwlan30.bin mnt/lib/firmware/qca9377/
    $ sudo cp -a <firmware path>/qca9377/utf30.bin mnt/lib/firmware/qca9377/
    $ sudo cp -a <firmware path>/wlan/cfg.dat mnt/lib/firmware/wlan/cfg.dat
    $ sudo cp -a <firmware path>/wlan/qca9377/qcom_cfg.ini mnt/lib/firmware/wlan/qca9377/qcom_cfg.ini
    
    Bluetooth:
    $ sudo cp -a <firmware path>/qca/nvm_tlv_3.2.bin mnt/lib/firmware/qca/nvm_tlv_3.2.bin
    $ sudo cp -a <firmware path>/qca/rampatch_tlv_3.2.tlv mnt/lib/firmware/qca/rampatch_tlv_3.2.tlv
    
    Please contact sales@technexion.com to get firmware files.

****
### <a name="Quick-Start"></a> Quick Start
-----------

#### Run the apps using debug console/ssh

Due to Wayland protocol need root permission, so the users need export wayland necessary variables with commands if adapt **ubuntu user**, for examples:

    $ sudo -E glmark-es2-wayland
    $ sudo -E chromium --no-sandbox --test-type
    (Note that 'sudo -E' is necessary when run any graphic base apps)

If the users login using **root user**, just issue commands without 'sudo -E' directly when run graphic base apps.

#### Playback video

Adapt gstreamer-1.0 which supports avi, mp4, mkv and webm format files, please change to root user and issue quick command to play video:

    # gplay-1.0 /home/ubuntu/mnt/test.mp4

    You should be see a resolution problem because ILI9881C is a portrait screen, please issue standard command to playback on fullscreen mode:

    # gst-launch-1.0 playbin uri=file:///home/ubuntu/mnt/test.mp4 video-sink="glimagesink render-rectangle=<1,1,1280,720>"

    Of course if your panel is base on landscape screen such as HDMI, you can use gplay directly.


    Special case: PICO-IMX8M and EDM-IMX8M

    They're adapt dcss engine for DRM, different with other platforms, so dcss must assign specfic video-sink as follows example:

    # gplay-1.0 /home/ubuntu/mnt/test.mp4 --video-sink="glimagesink render-rectangle=<1,1,1920,1080>"

#### `glmark` for GPU benchmark testing

    # glmark2-es2-wayland --debug


    Special case: PICO-IMX8M and EDM-IMX8M

    We adapt 768MB CMA size For 1GB memory SKu. compatible, so sometimes GPU loading is to heavy cause app hang, we have two ways to fix this issue:

    1. Increase CMA size to 900M (0x3c000000) in dtsi file of kernel source, then re-compile device tree as follows command, then replace old dtb file.

    $ make dtbs

    Note that this way only wokrs on up to 2GB memory size Sku..

    2. Change display resolution less than 1080P in /etc/xdg/weston/weston.ini, then reboot.

#### Run QT5 applications

We support libQT5 relate libraries, you can develop your apps using QT-Creator, and running on Ubuntu directly, or copy executable QT apps from Technexion Yocto 3.0, it also works.

    Example:
    # root@technexion:/home/ubuntu/QtDemo# ./QtDemo 
    Using Wayland-EGL
    Using the 'xdg-shell' shell integration


#### Control WiFi connection using `nmcli`

Ubuntu adapt network-manager service to manage network status, so please use `nmcli` to change the configuration if you need:

    Example: WiFi Station mode 
    1. Scan exist WiFi hotspots
    $ sudo nmcli device wifi list
    2. Make a connection
    $ sudo nmcli device wifi connect SSID-Name password wireless-password

    Example: WiFi AP mode
    $ sudo nmcli con add type wifi ifname wlan0 con-name Hostspot autoconnect yes ssid Hostspot
    $ sudo nmcli con modify Hostspot 802-11-wireless.mode ap 802-11-wireless.band a ipv4.method shared
    $ sudo nmcli con modify Hostspot wifi-sec.key-mgmt wpa-psk
    $ sudo nmcli con modify Hostspot wifi-sec.psk "veryveryhardpassword1234"
    $ sudo nmcli con up Hostspot

    Example: WiFi concurrent mode (enable P2P function on configuration of qcacld driver is necessary)
    1. Create a virtual interface
    $ sudo iw dev wlan0 interface add ap0 type __ap
    2. Setting virtual interface as AP mode
    $ sudo nmcli c add type wifi ifname ap0 con-name hotspot_test autoconnect no ssid Hotspot
    $ sudo nmcli connection modify hotspot_test 802-11-wireless.mode ap 802-11-wireless.band a ipv4.method shared
    $ sudo nmcli connection modify hotspot_test wifi-sec.key-mgmt wpa-psk
    $ sudo nmcli connection modify hotspot_test wifi-sec.psk "veryveryhardpassword1234"
    $ sudo nmcli connection up hotspot_test
    3. Make a connection on station mode
    $ sudo nmcli device wifi connect SSID-Name password wireless-password

#### Control Bluetooth connection using `bluez5`

This bluez5 was be tweaked from Technexion for qca modules, so please issue command to enable bluetooth function:

    $ sudo systemctl start serial-qcabtfw@ttymxc0 (wait for 5 seconds)
    $ hciconfig
    hci0:   Type: Primary  Bus: UART
    BD Address: 00:1F:7B:31:3D:31  ACL MTU: 1024:7  SCO MTU: 60:8
    DOWN
    RX bytes:672 acl:0 sco:0 events:36 errors:0
    TX bytes:431 acl:0 sco:0 commands:36 errors:0


#### 4G/5GNR mobile connection using `mmcli` and `qmicli`

    Step 1. Check your module works with SIM card
    $ sudo mmcli --modem 0
    -----------------------------------
    General  |                    path: /org/freedesktop/ModemManager1/Modem/0
             |               device id: 3ec985d18ecb5e64fbdda7bcfa8d0ef1d541a40c
    -----------------------------------
    Hardware |            manufacturer: QUALCOMM INCORPORATED
             |                   model: 0
             |       firmware revision: MPSS.HI.2.0.c3-00028.5-SDX55_CPEALL_PACK-1  1  [Aug 14 2020 23:00:00]
             |          carrier config: ChunghwaTel_Taiwan_Commercial
             | carrier config revision: 0A014F00
             |            h/w revision: 20000
             |               supported: gsm-umts, lte, 5gnr
             |                 current: gsm-umts, lte, 5gnr
             |            equipment id: 864284040065893
    -----------------------------------
    System   |                  device: /sys/devices/platform/32f10108.usb/38200000.dwc3/xhci-hcd.1.auto/usb1/1-1/1-1.3
             |                 drivers: option1, qmi_wwan
             |                  plugin: simtech
             |            primary port: cdc-wdm0
             |                   ports: cdc-wdm0 (qmi), ttyUSB0 (qcdm), ttyUSB2 (at), wwan0 (net), 
             |                          ttyUSB4 (audio), ttyUSB1 (gps), ttyUSB3 (at)
    -----------------------------------
    Status   |                    lock: sim-pin2
             |          unlock retries: sim-pin (3), sim-puk (10), sim-pin2 (3), sim-puk2 (10)
             |                   state: disabled
             |             power state: on
             |          signal quality: 0% (cached)
    -----------------------------------
    Modes    |               supported: allowed: 3g; preferred: none
             |                          allowed: 4g; preferred: none
             |                          allowed: 3g, 4g; preferred: 4g
             |                          allowed: 3g, 4g; preferred: 3g
             |                          allowed: 5g; preferred: none
             |                          allowed: 3g, 5g; preferred: 5g
             |                          allowed: 3g, 5g; preferred: 3g
             |                          allowed: 4g, 5g; preferred: 5g
             |                          allowed: 4g, 5g; preferred: 4g
             |                          allowed: 3g, 4g, 5g; preferred: 5g
             |                          allowed: 3g, 4g, 5g; preferred: 4g
             |                          allowed: 3g, 4g, 5g; preferred: 3g
             |                 current: allowed: 4g, 5g; preferred: 5g
    -----------------------------------
    Bands    |               supported: utran-1, utran-3, utran-4, utran-6, utran-5, utran-8, 
             |                          utran-9, utran-2, eutran-1, eutran-2, eutran-3, eutran-4, eutran-5, 
             |                          eutran-7, eutran-8, eutran-12, eutran-13, eutran-14, eutran-17, 
             |                          eutran-18, eutran-19, eutran-20, eutran-25, eutran-26, eutran-28, 
             |                          eutran-29, eutran-30, eutran-32, eutran-34, eutran-38, eutran-39, 
             |                          eutran-40, eutran-41, eutran-42, eutran-43, eutran-46, eutran-48, 
             |                          eutran-66, eutran-67, eutran-71, utran-19
             |                 current: utran-1, utran-3, utran-4, utran-6, utran-5, utran-8, 
             |                          utran-9, utran-2, eutran-1, eutran-2, eutran-3, eutran-4, eutran-5, 
             |                          eutran-7, eutran-8, eutran-12, eutran-13, eutran-14, eutran-17, 
             |                          eutran-18, eutran-19, eutran-20, eutran-25, eutran-26, eutran-28, 
             |                          eutran-29, eutran-30, eutran-32, eutran-34, eutran-38, eutran-39, 
             |                          eutran-40, eutran-41, eutran-42, eutran-48, eutran-66, eutran-67, 
             |                          eutran-71, utran-19
    -----------------------------------
    IP       |               supported: ipv4, ipv6, ipv4v6
    -----------------------------------
    3GPP     |                    imei: 864284040065893
    -----------------------------------
    3GPP EPS |    ue mode of operation: csps-2
    -----------------------------------
    SIM      |        primary sim path: /org/freedesktop/ModemManager1/SIM/1
             |          sim slot paths: slot 1: /org/freedesktop/ModemManager1/SIM/0
             |                          slot 2: none (active) 

    Step 2. Make a quick connection (Example: ChungHwa Telecom APN is 'internet')
    $ sudo mmcli --modem 0 --simple-connect="apn=internet"

    Step 3. Get IP address using dhcp way
    $ sudo udhcpc -i wwan0

    Step 4. It works! You can starting enjoy your mobile network such as ping command
    $ ping 8.8.8.8

* Tested modules
    * mPCIE
        * FIBOCOM NL668-EU (4G)
    * M.2
        * SIMCOM SIM8202G-M2 (5GNR)
        * TELIT LN930 (4G)
        * SIERRA EM7430 (4G)

#### Docker conatiner

For OS virtualization requirement, we enable docker engine in Ubuntu, the users can use docker commands to pull exist containers from dockerhub, of course it can build in Ubuntu using dockerfile, note that you have to choose aarch64 strcuture base container.


#### Expand rootfs partition

After flash the ubuntu image to eMMC, you'll see a pop-up window at first boot as following figure:

![expand_rootfs](figures/expand_rootfs.png)

The system will starting expand rootfs partition and wait for about 10 seconds, it will auto reboot and you can start enjoy your Ubuntu. 


#### Weston Keyboard shortcuts

|#|shortcut set|function|
|---|---|----
|1|super + s|make a screenshot of the desktop
|2|super + r|record start/stop a video of the desktop
|3|super + Tab|swich active windows


#### Chromium

|#|method|command|
|---|---|----
|1| click icon| no need, icon is exist on left top side of weston desktop
|2| basic browser| # chromium --no-sandbox --test-type
|3| kiosk mode (full screen)| # chromium --no-sandbox --test-type --start-fullscreen www.technexion.com

#### Device Tree Overlay

Boot into u-boot prompt, issue commands to enable new function using device tree overlay technology:

    $ setenv dtoverlay '<dtoverlay target name>'
    $ saveenv
    $ boot

Support list:

|platform|overlay function|dtoverlay target name|
|---|---|----
|EDM-G-IMX8MP| 10" VL10112880 LVDS panel| lvds-vl10112880
|EDM-G-IMX8MP| 21.5" VL215192108 LVDS panel| lvds-vl215192108
|PICO-IMX8M| 5" ILI9881C MIPI panel| mipi-dcss-ili9881c
|EDM-IMX8M| 5" ILI9881C MIPI panel| mipi-dcss-ili9881c
|EDM-IMX8M| 8" G080UAN01 MIPI panel| mipi-dcss-g080uan01
|EDM-IMX8M| 10" G101UAN02 MIPI panel| mipi-dcss-g101uan02
|EDM-IMX8M| MIPI-To-HDMI | mipi2hdmi-adv7535

#### OpenCV 4.4 SDK

 Installation Steps

      1. Download compressed tar file of SDK
      $ wget -c -t 0 --timeout=60 --waitretry=60 ftp://ftp.technexion.net/development_resources/NXP/ubuntu/proprietary/tn_opencv4.4_sdk_installer.tar.gz
      $ tar zxvf tn_opencv4.4_sdk_installer.tar.gz

      2. Running installation script
      $  chmod a+x ./opencv_installer.sh
      $  ./opencv_installer.sh

      3. remove SDK installer relate files
      $ rm -rf tn_opencv4.4_sdk_installer.tar.gz opencv_installer.sh opencv

Running a machine learning demo using caffe2 and ResNet-18 model for cifar-10 classification case (must adapt python 3.7)

      1. Download demo code
      $ git clone https://github.com/TechNexion-customization/tn-ml.git
      $ cd tn-ml

      2. Run example code using specific resnet18-emdnn model
      $ sudo -E python3.7 ./cifar_classifier.py -p models/resnet18_emdnn/resnet18_emdnn.prototxt -m models/resnet18_emdnn/resnet18_emdnn.caffemodel

As you can see, the output image will be labeled which is AI's inference results.
The users can change input pictures, or modify source code for user's applications using our demo code :)

<img src="figures/opencv-1.png" width="800">

#### TensorFlow-Lite 2.2.0 SDK

 Installation Steps

      1. Download compressed tar file of SDK
      $ wget -c -t 0 --timeout=60 --waitretry=60 ftp://ftp.technexion.net/development_resources/NXP/ubuntu/proprietary/tn_tflite2.2.0_sdk_installer.tar.gz
      $ tar zxvf tn_tflite2.2.0_sdk_installer.tar.gz

      2. Running installation script
      $  chmod a+x ./tflite_installer.sh
      $  ./tflite_installer.sh

      3. remove SDK installer relate files
      $ rm -rf tn_tflite2.2.0_sdk_installer.tar.gz tflite_installer.sh tflite

Running a machine learning demo using NNAPI and mobilenet model for NPU classification case (must adapt python 3.7)

      1. change to demo directory
      $ cd /usr/bin/tensorflow-lite-2.2.0/examples

      2. Benchmark testing

      CPU
      $ ./benchmark_model --graph=mobilenet_v1_1.0_224_quant.tflite
      Average inference timings in us: Warmup: 142661, Init: 9292, Inference: 141421

      NPU
      $ ./benchmark_model --graph=mobilenet_v1_1.0_224_quant.tflite --use_nnapi=true
      Average inference timings in us: Warmup: 6.15961e+06, Init: 23053, Inference: 2669.4

      3. Image classification using mobilenet model with NPU accelaration
      $ python3.7 label_image.py
      INFO: Created TensorFlow Lite delegate for NNAPI.
      Applied NNAPI delegate.
      Warm-up time: 6142.1 ms

      Inference time: 2.9 ms

      0.670588: military uniform
      0.125490: Windsor tie
      0.039216: bow tie
      0.027451: mortarboard
      0.023529: bulletproof vest

The output messages will showing posibilities which is AI's inference results.
The users can change input pictures, or modify source code for user's applications using our demo code :)

****
### <a name="Apps-Developing"></a> Apps Developing
-----------

**Toolchain**

**1. Non-GUI/Web GUI applications**

Example: IoT, Industrial or Machine Learning

|#|Language|libraries|
|---|---|----
|1|JAVA|apt-get install openjdk11-jdk
|2|Python|apt-get install python3-pip
|2|JavaScript|apt-get install nodejs npm
|2|Golang|apt-get install golang
|2|C/C++|apt-get install gcc

The users also can compile the program on host PC side using cross-compiler if adapt non-OO programming language.

**2. GUI applications with HW acceleration**

Example: QT5, Wayland

|#|Language|libraries|
|---|---|----
|1|C++|QT5
|2|C|Wayland

Wayland example:

    $ git clone https://gitlab.com/hdante/hello_wayland.git
    $ sudo apt-get install make libwayland-dev
    $ cd hello_wayland
    $ make
    $ ./hello_wayland

QT example (coming soon)

We recommended developing GUI applications on host PC side, it's saving eMMC usage for develop libraries especially huge HMI system, so Technexion will provide a Graphic SDK for host PC side use soon.

**2. eIQ Enabling**

The NXPÂ® eIQ machine learning software development environment enables the use of ML algorithms on NXP MCUs, i.MX RT crossover MCUs, and i.MX family SoCs.
It support three ML frameworks as follows:

|#|Framework|Methods|
|---|---|----
|1|Tensorflow Lite|CPU,GPU,NPU
|2|ARMNN|CPU,GPU,NPU
|3|OpenCV|CPU

Installation steps:

    1. Install pip3 and relate libraries
    $ sudo apt install python3-pip python3-pil
    $ pip3 install wheel

    2. Install opencv
    $ pip3 install opencv-python

    3. Install armnn
    $ sudo apt install software-properties-common
    $ sudo add-apt-repository ppa:armnn/ppa
    $ sudo apt update
    $ sudo apt install libarmnn-aclcommon22_20.08-4
    $ sudo apt install libarmnn-cpuacc-backend22_20.08-4
    $ sudo apt install libarmnn-cpuref-backend22_20.08-4
    $ sudo apt install libarmnn-gpuacc-backend22_20.08-4
    $ sudo apt install libarmnn-tfliteparser22_20.08-4
    $ sudo apt install libarmnn22_20.08-4
    $ sudo apt install python3-pyarmnn_20.08-4

    4. Install tensorflow-lite
    $ pip3 install https://github.com/google-coral/pycoral/releases/download/release-frogfish/tflite_runtime-2.5.0-cp38-cp38-linux_aarch64.whl

    5. Install pyeiq
    $ git clone https://source.codeaurora.org/external/imxsupport/pyeiq && cd pyeiq/
    $ git checkout tag_v2.2.0
    $ python3 setup.py sdist
    $ cd dist
    $ tar zxvf eiq-2.2.0.tar.gz
    $ cd eiq-2.2.0
    $ sudo python3 setup.py install

    Run an object detection example
    $ pyeiq --run switch_image

<img src="figures/eiq-1.png" width="800">

Note that due to NXP's pyeiq latest version is v2.2.0, but it still base on old kernel, so some functions could be not working such as GPU,NPU acceleration. So this version just an alpha version, we'll update eiq libraries soon when NXP announce new version.

****
### <a name="Known-Limitations"></a>Known Limitations
-----------

1. Our Ubunut does support HW acceleration on Wayland, it means our weston, Wayland, QT5 and gstreamer-1.0 relate libraries all tweaked already, so please don't remove them and re-install same package via apt-get, it will install no HW acceleration library without tweaked from Ubuntu package management server.

2. This Ubuntu is base on Wayland graphic protocol, so Xorg base app/librareis will be execute invalided, don't spend time to install Xorg relate programs.


